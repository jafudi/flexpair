#cloud-config

# run commands
# default: none
# runcmd contains a list of either lists or a string
# each item will be executed in order at rc.local like level with
# output to the console
# - runcmd only runs during the first boot
# - if the item is a list, the items will be properly executed as if
#   passed to execve(3) (with the first arg as the command).
# - if the item is a string, it will be simply written to the file and
#   will be interpreted by 'sh'
#
# Note, that the list has to be proper yaml, so you have to quote
# any characters yaml would eat (':' can be problematic)
runcmd:
    - >
        sudo gitlab-runner register
        --non-interactive
        --url="https://gitlab.com/"
        --registration-token="JW6YYWLG4mTsr_-mSaz8"
        --executor="shell"
        --description="ludopy-shell-executor"
        --tag-list="ubuntu,bash"
    - sudo gitlab-runner restart
    - sudo gitlab-runner status
    - docker pull jafudi/idea-extractor:latest

# add each entry to ~/.ssh/authorized_keys for the configured user or the
# first user defined in the user definition directive.
ssh_authorized_keys:
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDEV7dg3elkqbE0XCwWWpBeiNYyLt0JZCnQSBTt6MDJ7VTZJAMa2wY0Rqog6F5FBvWu+RFIq1e4tbzQK16iQn9rs/TU1bG5TrNIoqtvekrofPEoghc+L0zEgvC3KQxD/SUl6iZtwf9zBDB0eEcvl0NOPFLMgfazDDak49w8mdYgh4oCVfAvlBqsYi+YJ+fnQhhLYSmnSBu8VxaZg/Ztid5QYlKhVeF6SNIZ9BSM9BG1N7iF6zRwm7qoha0Aes+pwiXEMiavCpUXHg0FL043PsbqRz0HpjJ+fGXfFbHdKdZPwCSXYneqBbAyfNgeMdEPKZVtfcsyLKGpbDMPIfCJporrhrbOo/3mcutMwj35bDxOLYaE410owe2AYo7o5fvBfe3dk5TYBOEWlOELJQF435HsB1Yt8OYHJH1RlN4tc4thH8i1znGUSTBfLdYNRKENGlMExr7mSGxAVBgsAicv8G/6u/uGDw2J0ZJz5l9pIjTP6YCmmkut6Dd7ffafD6Pbp6E= jens@Jenss-MBP.fritz.box